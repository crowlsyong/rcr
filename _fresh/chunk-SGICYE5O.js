import{b as d,c as h}from"./chunk-HNGXSQHJ.js";import{a as n}from"./chunk-MEABNXAK.js";import{a as y,b as x,c}from"./chunk-NGSZJRVL.js";d.register(...h);var F=t=>{let l=Math.min(1379e-8*Math.pow(t,1.5),.5);return parseFloat(l.toFixed(4))};function R({highlightDays:t}){let o=c(null),a=c(null),[l,C]=y(!1);return x(()=>{if(o.current){a.current&&a.current.destroy();let u=365*5,s=[],g=365;for(let e=0;e<=u;e+=g)s.push(e);s.includes(0)||s.unshift(0);let f=[],p=[];for(let e=0;e<=u;e+=5)p.push(e),f.push({x:e,y:F(e)});let m=[];if(t!==void 0&&t>0){let e=F(t);m.push({x:t,y:e})}let b=o.current.getContext("2d");b&&(a.current=new d(b,{type:"line",data:{labels:p,datasets:[{label:"Loan Fee",data:f,borderColor:"lime",backgroundColor:"rgba(0,255,0,0.1)",fill:!0,tension:.3,pointRadius:0,pointHoverRadius:8,pointHitRadius:15,order:2},{label:t!==void 0&&t>0?`Your Loan (${t} days)`:"",data:m,type:"scatter",backgroundColor:"white",borderColor:"white",pointRadius:6,pointHoverRadius:10,pointHitRadius:20,showLine:!1,order:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"linear",title:{display:!0,text:"Loan Duration (Days)",color:"#e2e8f0"},min:0,max:u,grid:{color:"#374151"},ticks:{color:"#e2e8f0",callback:function(e){let r=e;if(s.includes(r)){if(r===0)return"0 Days";if(r%365===0){let i=r/365;return`${i} Year${i!==1?"s":""}`}return r.toString()}return""},autoSkip:!1,maxRotation:0,minRotation:0}},y:{title:{display:!0,text:"Fee Percentage",color:"#e2e8f0"},max:.55,grid:{color:"#374151"},ticks:{color:"#e2e8f0",callback:function(e){return`${(e*100).toFixed(0)}%`}}}},plugins:{legend:{labels:{color:"#e2e8f0",filter:e=>e.text!==""}},tooltip:{mode:"nearest",intersect:!1,callbacks:{label:function(e){let r=e.dataset.label||"";if(e.parsed.y!==null){let i=e.parsed.x,v=e.parsed.y;return`${r}: ${i} days (${(v*100).toFixed(2)}%)`}return r},title:function(e){if(e[0].dataset.type==="line")return"Duration Details"}}}}}}),C(!0))}return()=>{a.current&&(a.current.destroy(),a.current=null)}},[t]),n("div",{class:"p-4 bg-gray-900 border border-gray-700 rounded-md shadow-lg",children:[n("h3",{class:"text-white text-lg font-bold mb-3 text-center",children:"Loan Fee vs. Duration (Days) \u2013 Power Function"}),n("div",{class:"w-full",style:"height: 300px;",children:n("canvas",{ref:o})}),!l&&n("p",{class:"text-gray-400 text-sm text-center mt-2",children:"Loading chart..."})]})}export{R as a};
