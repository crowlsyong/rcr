import{e as y,f}from"./chunk-URWAKGWD.js";import{a as e}from"./chunk-MEABNXAK.js";import{a as i,b as u}from"./chunk-NGSZJRVL.js";var m=y,x=f;function T({currentProbability:n,centerShift:o,isShiftLockedToCurrentProb:l,marketProbability:r}){let[s,C]=i(!1),[w,c]=i(String(n.value)),[h,d]=i(String(50+o.value)),[v,I]=i(!1);u(()=>{I(!0)},[]),u(()=>{c(String(n.value))},[n.value]),u(()=>{d(String(50+o.value))},[o.value]),u(()=>{typeof r=="number"&&!s?n.value=Math.round(r):!s&&typeof r!="number"&&(n.value=50)},[r,s]);let k=()=>{let a=!s;C(a),!a&&typeof r=="number"&&(n.value=Math.round(r))},S=a=>{let t=parseInt(a,10);!isNaN(t)&&t>=1&&t<=99?(c(String(t)),n.value=t):a===""&&c("")},M=a=>{let t=parseInt(a,10);if(!isNaN(t)&&t>=0&&t<=100){let N=t-50;d(String(t)),o.value=Math.max(-50,Math.min(50,N))}else a===""&&d("")},b=typeof r!="number",p=!s,$=p&&!b?"Click the blue lock button to unlock":"",j=l.value?"Click the blue lock button to unlock":"",g=50+o.value-n.value,z=g>0?`+${g}%`:`${g}%`;return e("div",{class:"p-2 space-y-4 text-xxs bg-gray-900 rounded-lg shadow-md",children:[e("div",{children:[e("div",{class:"flex justify-between items-baseline mb-1",children:[e("label",{for:"current-probability-input",class:"block text-gray-300 font-medium",children:"Marker Probability:"}),e("div",{class:"flex items-center space-x-2",children:[e("input",{id:"current-probability-input",type:"number",value:w,onInput:a=>S(a.currentTarget.value),disabled:p,min:"1",max:"99",class:`w-12 px-1 py-1 rounded text-xs border text-center ${p?"bg-gray-700 text-gray-400 cursor-not-allowed border-gray-600":"bg-gray-800 text-gray-100 border-gray-600 focus:outline-none focus:border-blue-500"}`}),e("span",{class:"text-gray-300",children:"%"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("input",{id:"current-probability-slider",type:"range",min:"1",max:"99",value:n.value,onInput:a=>{let t=parseInt(a.currentTarget.value)||1;n.value=t,c(String(t))},disabled:p,title:$,class:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"}),e("button",{type:"button",id:"override-toggle",onClick:k,disabled:b,"aria-pressed":s,"aria-label":s?"Lock to market probability":"Unlock for custom probability",class:`flex items-center justify-center rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${b?"opacity-50 cursor-not-allowed":""}`,children:v?s?e(x,{size:16,class:"w-4 h-4 text-gray-600"}):e(m,{size:16,class:"w-4 h-4 text-blue-500"}):e("div",{class:"w-4 h-4 bg-gray-700 rounded animate-pulse"})})]})]}),e("div",{children:[e("div",{class:"flex justify-between items-baseline mb-1",children:[e("label",{for:"curve-center-probability-input",class:"block text-gray-300 font-medium",children:"Shift:"}),e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"text-gray-400 mr-1",children:z}),e("input",{id:"curve-center-probability-input",type:"number",value:h,onInput:a=>M(a.currentTarget.value),disabled:l.value,min:"0",max:"100",class:`w-12 px-1 py-1 rounded text-xs border text-center ${l.value?"bg-gray-700 text-gray-400 cursor-not-allowed border-gray-600":"bg-gray-800 text-gray-100 border-gray-600 focus:outline-none focus:border-blue-500"}`}),e("span",{class:"text-gray-300",children:"%"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("input",{id:"center-shift",type:"range",min:"-50",max:"50",value:o.value,onInput:a=>{let t=parseInt(a.currentTarget.value)||0;o.value=t,d(String(50+t))},disabled:l.value,title:j,class:`flex-1 h-2 rounded-lg appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 ${l.value?"bg-gray-700 disabled:cursor-not-allowed":"bg-gray-600"}`}),e("button",{type:"button",id:"lock-shift",onClick:()=>l.value=!l.value,"aria-pressed":l.value,"aria-label":l.value?"Unlock curve shift":"Lock curve shift to current probability",title:"Locks to market probability slider",class:"flex items-center justify-center rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:v?l.value?e(m,{size:16,class:"h-4 w-4 text-blue-500"}):e(x,{size:16,class:"h-4 w-4 text-gray-600"}):e("div",{class:"w-4 h-4 bg-gray-700 rounded animate-pulse"})})]})]})]})}export{T as a};
