import{b as u,c as h}from"./chunk-HNGXSQHJ.js";import{b as m,d as x}from"./chunk-DGI52A4N.js";import{a as t}from"./chunk-MEABNXAK.js";import{a as b,b as g,c as i}from"./chunk-NGSZJRVL.js";u.register(...h);function M({highlightScore:o}){let a=i(null),s=i(null),[C,y]=b(!1);return g(()=>{if(a.current){s.current&&s.current.destroy();let n=x,R=n.map(e=>`${e.scoreMin}\u2013${e.scoreMax}`),k=n.map(e=>e.feeMultiplier),d=[],c=[],l=[];n.forEach(e=>{let r=(e.scoreMin+e.scoreMax)/2,p=m(r);d.push(p),o!==void 0&&o>=e.scoreMin&&o<=e.scoreMax?(c.push("rgb(255, 255, 255)"),l.push(3)):(c.push(p.replace("rgb","rgba").replace(")",", 1)")),l.push(1))});let f=a.current.getContext("2d");f&&(s.current=new u(f,{type:"bar",data:{labels:R,datasets:[{label:"Risk Fee",data:k,backgroundColor:d,borderColor:c,borderWidth:l}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"logarithmic",title:{display:!0,text:"Fee Percentage",color:"#e2e8f0"},min:.005,max:2,ticks:{color:"#e2e8f0",font:{size:9},callback:function(e){let r=e*100;return r===.1?"0.1%":r===1?"1%":r===10?"10%":r===50?"50%":r===100?"100%":r===200?"200%":null}},grid:{color:"#374151"}},y:{title:{display:!0,text:"Credit Score Range",color:"#e2e8f0"},grid:{color:"#374151"},ticks:{color:"#e2e8f0",font:{size:10}}}},plugins:{legend:{labels:{color:"#e2e8f0"}},tooltip:{callbacks:{title:function(e){let r=n[e[0].dataIndex];return`Score: ${r.scoreMin}\u2013${r.scoreMax} (${r.description})`},label:function(e){let r=e.dataset.label||"";return e.parsed.x!==null?`${r}: ${(e.parsed.x*100).toFixed(2)}%`:r}}}}}}),y(!0))}return()=>{s.current&&(s.current.destroy(),s.current=null)}},[o]),t("div",{class:"p-4 bg-gray-900 border border-gray-700 rounded-md shadow-lg text-left",children:[t("h3",{class:"text-white text-lg font-bold mb-3 text-center",children:"Risk Fee Structure (Based on Credit Score)"}),t("div",{class:"w-full",style:"height: 250px;",children:t("canvas",{ref:a})}),!C&&t("p",{class:"text-gray-400 text-sm text-center mt-2",children:"Loading chart..."})]})}export{M as a};
