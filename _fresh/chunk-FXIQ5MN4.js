function v(p){let{lowerProbability:d,upperProbability:l,totalBetAmount:m,isVolatilityBet:M,granularity:g,advancedPoints:P,currentProbabilityForAdvanced:y}=p,s=[],i=0;if(M)if(P&&P.length>0){if(typeof y>"u")return{orders:[],totalShares:0};let a=y/100;for(let o of P){if(o.amount<1)continue;let r=o.percentage/100;if(r!==a)if(r<a){let e=o.amount,u=e/r;s.push({yesAmount:Math.round(e),noAmount:0,yesProb:r,noProb:0,shares:Math.round(u)}),i+=Math.round(u)}else{let e=o.amount,u=e/(1-r);s.push({yesAmount:0,noAmount:Math.round(e),yesProb:0,noProb:r,shares:Math.round(u)}),i+=Math.round(u)}}s.sort((o,r)=>(o.yesProb||o.noProb)-(r.yesProb||r.noProb))}else{let a=g/100,o=[];for(let t=d,n=l;t<n;t+=a,n-=a){let c=t+(1-n);if(c<=0)continue;let b=1/c;o.push({yesProb:t,noProb:n,sharesPerMana:b})}if(o.length===0)return{orders:[],totalShares:0};o.reverse();let r=o.length,e=Array.from({length:r},(t,n)=>r-n),u=e.reduce((t,n)=>t+n,0);for(let t=0;t<r;t++){let n=m*e[t]/u,{yesProb:c,noProb:b,sharesPerMana:O}=o[t],h=n*O,A=h*c,f=h*(1-b);Math.round(A)>=1&&Math.round(f)>=1&&(s.push({yesAmount:Math.round(A),noAmount:Math.round(f),yesProb:c,noProb:b,shares:Math.round(h)}),i+=Math.round(h))}s.sort((t,n)=>t.yesProb<n.yesProb?1:-1)}else{let a=d+(1-l);if(a<=0)return{orders:[],totalShares:0};let o=m/a,r=o*d,e=o*(1-l);Math.round(r)>=1&&Math.round(e)>=1&&(s.push({yesAmount:Math.round(r),noAmount:Math.round(e),yesProb:d,noProb:l,shares:Math.round(o)}),i=Math.round(o))}return{orders:s,totalShares:i}}export{v as a};
