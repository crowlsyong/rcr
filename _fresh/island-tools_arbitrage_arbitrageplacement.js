import{a as t}from"./chunk-MEABNXAK.js";import{a as n,b as d}from"./chunk-NGSZJRVL.js";import"./chunk-V66ALGLP.js";function C({calculation:o,apiKey:p,budgetPercentage:i}){let[l,c]=n(!1),[r,a]=n(!1),[u,m]=n(null),[g,f]=n(null);d(()=>{let s;return r&&(s=setTimeout(()=>a(!1),4e3)),()=>clearTimeout(s)},[r]);let y=async()=>{c(!0),m(null),f(null);let s=i/100,P={apiKey:p,betA:{contractId:o.marketA.id,amount:o.betAmountA*s,outcome:"YES"},betB:{contractId:o.marketB.id,amount:o.betAmountB*s,outcome:"NO"}};try{let e=await fetch("/api/v0/place-arbitrage-bets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}),b=await e.json();if(!e.ok)throw new Error(b.error||"An unknown error occurred");m(b.message)}catch(e){f(typeof e=="object"&&e!==null&&"message"in e?e.message:String(e))}finally{c(!1)}},A=()=>{r?(y(),a(!1)):a(!0)},h=r?"Are you sure? Click to Confirm":"Place Arbitrage Bets",x=i/100,w=(o.betAmountA+o.betAmountB)*x;return t("div",{class:"mt-6 border-t border-gray-700 pt-6",children:[t("h3",{class:"text-lg font-semibold text-white",children:"Execute Arbitrage"}),t("p",{class:"text-sm text-gray-400 mb-3",children:["Total Bet Amount:"," ",t("span",{class:"font-bold text-white",children:["M",Math.round(w)]})]}),t("button",{type:"button",onClick:A,disabled:l,class:`w-full flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed ${r?"bg-yellow-700 hover:bg-yellow-800 focus:ring-yellow-400":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:l?"Placing Bets...":h}),u&&t("p",{class:"mt-2 text-green-400 text-sm",children:u}),g&&t("p",{class:"mt-2 text-red-400 text-sm",children:["Error: ",g]})]})}export{C as default};
