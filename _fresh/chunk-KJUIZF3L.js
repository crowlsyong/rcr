import{b as x}from"./chunk-CRCKSX74.js";import{i as m,j as y}from"./chunk-URWAKGWD.js";import{a as e}from"./chunk-MEABNXAK.js";import{a as p,b as u}from"./chunk-NGSZJRVL.js";import{d as b}from"./chunk-V66ALGLP.js";var N=y,R=m;function O({minDistributionPercentage:l,maxDistributionPercentage:s,currentProbability:M,centerShift:h}){let r=x(!1),v=x(!0),o=x(10),[S,g]=p(String(l.value)),[I,d]=p(String(s.value)),[w,f]=p(String(o.value)),[T,C]=p(!1);u(()=>{C(!0)},[]);let i=v.value?M.value:50+h.value;u(()=>{if(r.value){let a=o.value,t=Math.max(1,Math.round(i-a)),n=Math.min(99,Math.round(i+a));l.value=t,s.value=n}},[r.value,i,o.value]),u(()=>{g(String(l.value))},[l.value]),u(()=>{d(String(s.value))},[s.value]),u(()=>{f(String(o.value))},[o.value]);let V=a=>{let t=parseInt(a,10);if(!isNaN(t)&&t>=1&&t<=98){let n=Math.min(t,s.value-1);g(String(n)),l.value=n}else a===""&&g("")},k=a=>{let t=parseInt(a,10);if(!isNaN(t)&&t>=2&&t<=99){let n=Math.max(t,l.value+1);d(String(n)),s.value=n}else a===""&&d("")},c=Math.floor(Math.min(i-1,99-i));return e("div",{class:"p-2 space-y-4 text-xxs bg-gray-900 rounded-lg shadow-md",children:[e("div",{class:"flex justify-between items-center",children:[e("p",{class:"block text-gray-300 font-medium",children:"Prob. Mode:"}),e("div",{class:"flex items-center",children:[e("label",{class:"text-xxs font-medium text-gray-300 mr-3",children:r.value?"Relative":"Custom"}),e("button",{type:"button",onClick:()=>r.value=!r.value,class:"flex items-center focus:outline-none","aria-pressed":r.value,children:T?r.value?e(N,{size:40,class:"w-10 h-10 text-blue-500"}):e(R,{size:40,class:"w-10 h-10 text-gray-500"}):e("div",{class:"w-10 h-10 bg-gray-700 rounded-full animate-pulse"})})]})]}),r.value?e("div",{children:[e("div",{class:"flex justify-between items-center mb-1",children:[e("div",{class:"flex items-center space-x-2",children:[e("label",{for:"offset-percent-input",class:"block text-gray-300 font-medium",children:"Range:"}),e("button",{type:"button",onClick:()=>v.value=!v.value,class:"text-xxs bg-gray-700 px-2 py-0.5 rounded hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500",title:"Toggle calculation anchor point",children:v.value?"Market":"Shift"})]}),e("div",{class:"flex items-center space-x-1",children:[e("span",{class:"text-gray-300",children:"+/-"}),e("input",{id:"offset-percent-input",type:"number",value:w,onInput:a=>{let t=parseInt(a.currentTarget.value,10);!isNaN(t)&&t>=1&&t<=c?(f(String(t)),o.value=t):a.currentTarget.value===""&&f("")},min:"1",max:c>0?c:1,class:"w-12 px-2 py-1 rounded bg-gray-800 text-gray-100 border border-gray-600 focus:outline-none focus:border-blue-500 text-xs text-right"}),e("span",{class:"text-gray-300",children:"%"})]})]}),e("input",{id:"offset-percent-slider",type:"range",value:o.value,onInput:a=>{let t=parseInt(a.currentTarget.value);o.value=t,f(String(t))},min:"1",max:c>0?c:1,step:"1",class:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500"}),e("p",{class:"text-xs text-gray-500 mt-2 text-center",children:["Calculated Range: ",l.value,"% to"," ",s.value,"%"]})]}):e(b,{children:[e("div",{children:[e("div",{class:"flex justify-between items-center mb-1",children:[e("label",{for:"min-distribution-input",class:"block text-gray-300 font-medium",children:"Min Probability (%):"}),e("div",{class:"flex items-center space-x-1",children:[e("input",{id:"min-distribution-input",type:"number",value:S,onInput:a=>V(a.currentTarget.value),min:"1",max:"98",class:"w-12 px-1 py-1 rounded bg-gray-800 text-gray-100 border border-gray-600 focus:outline-none focus:border-blue-500 text-xs text-center"}),e("span",{class:"text-gray-300",children:"%"})]})]}),e("input",{type:"range",min:"1",max:"98",value:l.value,onInput:a=>{let t=parseInt(a.currentTarget.value)||1,n=Math.min(t,s.value-1);l.value=n,g(String(n))},class:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e("div",{children:[e("div",{class:"flex justify-between items-center mb-1",children:[e("label",{for:"max-distribution-input",class:"block text-gray-300 font-medium",children:"Max Probability (%):"}),e("div",{class:"flex items-center space-x-1",children:[e("input",{id:"max-distribution-input",type:"number",value:I,onInput:a=>k(a.currentTarget.value),min:"2",max:"99",class:"w-12 px-1 py-1 rounded bg-gray-800 text-gray-100 border border-gray-600 focus:outline-none focus:border-blue-500 text-xs text-center"}),e("span",{class:"text-gray-300",children:"%"})]})]}),e("input",{type:"range",min:"2",max:"99",value:s.value,onInput:a=>{let t=parseInt(a.currentTarget.value)||99,n=Math.max(t,l.value+1);s.value=n,d(String(n))},class:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}export{O as a};
